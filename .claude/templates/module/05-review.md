# 代码审查报告

> **V4.0阶段5输出** - Sonnet审查代码质量

---

## 审查信息

**模块名称**: [模块名]

**审查时间**: [YYYY-MM-DD HH:MM]

**审查者**: Sonnet 4.5

**被审查代码**: [commit hash]

---

## 审查范围

### 前端代码

- [文件1路径]
- [文件2路径]
- [文件3路径]

**代码行数**: [X]行

---

### 后端代码

- [文件1路径]
- [文件2路径]
- [文件3路径]

**代码行数**: [X]行

---

## 代码质量评估

### 整体评分

**评分**: [A/B/C/D/F]

**说明**: [...]

---

### 林纳斯视角审查

#### 1. 简洁性

**评分**: [A/B/C/D/F]

**发现的问题**:
- [ ] 过度抽象
- [ ] 不必要的复杂度
- [ ] 重复代码

**具体问题**:
1. [问题描述]
   - 位置: [文件:行号]
   - 建议: [如何简化]

---

#### 2. 可读性

**评分**: [A/B/C/D/F]

**发现的问题**:
- [ ] 命名不清晰
- [ ] 缺少必要注释
- [ ] 逻辑不直观

**具体问题**:
1. [问题描述]
   - 位置: [文件:行号]
   - 建议: [如何改进]

---

#### 3. 可维护性

**评分**: [A/B/C/D/F]

**发现的问题**:
- [ ] 耦合度高
- [ ] 缺少测试
- [ ] 硬编码

**具体问题**:
1. [问题描述]
   - 位置: [文件:行号]
   - 建议: [如何改进]

---

## 安全检查（Security角色辅助）

### SQL注入检查

- [ ] ✅ 无问题
- [ ] ⚠️ 发现问题：[描述]

### XSS检查

- [ ] ✅ 无问题
- [ ] ⚠️ 发现问题：[描述]

### 认证授权检查

- [ ] ✅ 无问题
- [ ] ⚠️ 发现问题：[描述]

### 敏感数据检查

- [ ] ✅ 无问题
- [ ] ⚠️ 发现问题：[描述]

---

## 性能检查

### 数据库查询

- [ ] ✅ 有合适的索引
- [ ] ⚠️ 缺少索引：[表.字段]

- [ ] ✅ 无N+1查询
- [ ] ⚠️ 发现N+1查询：[位置]

### 前端性能

- [ ] ✅ 有代码分割
- [ ] ⚠️ 需要代码分割：[组件]

- [ ] ✅ 有懒加载
- [ ] ⚠️ 需要懒加载：[资源]

---

## 测试覆盖检查（QA角色辅助）

### 单元测试

- **覆盖率**: [XX]%
- **目标**: ≥ 80%
- **状态**: ✅ 达标 / ❌ 未达标

**未覆盖的关键方法**:
1. [方法名] - [文件:行号]
2. [方法名] - [文件:行号]

---

### 集成测试

- **覆盖率**: [XX]%
- **状态**: ✅ 充分 / ⚠️ 不足

**缺少的测试场景**:
1. [场景描述]
2. [场景描述]

---

## 代码规范检查

### 编码规范

- [ ] ✅ 编码UTF-8无BOM
- [ ] ✅ 缩进统一
- [ ] ✅ 命名规范
- [ ] ✅ 注释完整

**违反规范的地方**:
1. [问题] - [位置]

---

## 问题汇总

### 🔴 Critical（必须修复）

1. [问题描述]
   - 位置: [文件:行号]
   - 影响: [严重程度说明]
   - 建议: [修复建议]

---

### 🟡 High（强烈建议修复）

1. [问题描述]
   - 位置: [文件:行号]
   - 影响: [影响说明]
   - 建议: [修复建议]

---

### 🟢 Medium（建议修复）

1. [问题描述]
   - 位置: [文件:行号]
   - 建议: [修复建议]

---

### ⚪ Low（可选修复）

1. [问题描述]
   - 位置: [文件:行号]
   - 建议: [修复建议]

---

## 优点总结

### 做得好的地方

1. [优点1]
2. [优点2]
3. [优点3]

---

## 审查结论

[ ] ✅ **通过** - 代码质量优秀，可以进入测试
[ ] ⚠️ **有条件通过** - 修复Critical/High问题后可进入测试
[ ] ❌ **不通过** - 需要重大修改，进入阶段6（代码修正）

---

## 下一步

- **如果通过**: 进入阶段7（测试验证）
- **如果有条件通过**: 修复问题后进入阶段7
- **如果不通过**: 进入阶段6（代码修正）

---

**🔍 此文档由Sonnet在阶段5生成**
