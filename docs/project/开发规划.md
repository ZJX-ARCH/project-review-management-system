# 项目评审管理系统 - 开发规划

> 基于原型图的开发实施计划
> 更新时间：2025-12-20

---

## 一、原型模块概览

根据原型图，系统包含以下业务模块（M101~M109）：

| 模块编号 | 模块名称 | 优先级 | 页面数量 | 核心功能 |
|---------|---------|--------|---------|---------|
| M101 | 项目申报管理 | P0 | 3 | 申请人创建、提交、管理项目申请 |
| M103 | 审核流程管理 | P0 | 2 | 审核员审核项目申请 |
| M104 | 专家分配管理 | P1 | 1 | 为通过审核的项目分配评审专家 |
| M105 | 评审评分管理 | P1 | 2 | 专家对项目进行评审评分 |
| M106 | 项目立项管理 | P1 | 2 | 评审完成后的项目立项管理 |
| M107 | 项目进度管理 | P2 | 2 | 项目负责人更新项目进度 |
| M108 | 统计报表 | P1 | 1 | 申报、审核、评审统计数据 |
| M109 | 系统配置管理 | P0 | 4 | 项目类型、评审模板、流程配置 |

注：M001~M010（用户、角色、菜单、部门、字典等系统管理模块）由 ContiNew Admin 框架提供，无需开发。

---

## 二、核心业务流程

```
申请人创建申请（草稿）
    ↓ 提交
待审核（状态：10）
    ↓ 审核员审核
    ├→ 审核通过（状态：20）→ 分配专家 → 专家评审（状态：50）→ 评审完成（状态：60）→ 立项决策
    ├→ 驳回（状态：30）
    ├→ 暂停审核（状态：45）→ 要求补充资料 → 补充资料中（状态：46）→ 重新提交
    └→ 撤回（状态：40）

立项后的项目
    ↓
项目进度管理（更新进度、里程碑跟踪）
    ↓
项目完成 / 暂停 / 取消
```

---

## 三、开发顺序规划

### 阶段一：基础配置模块（P0）

**开发模块**：M109 系统配置管理

**开发原因**：其他业务模块依赖配置数据（项目类型、评审模板、审批流程）

**开发顺序**：
1. **项目类型配置**（project-type-list.html, project-type-edit.html）
   - 后端：项目类型 CRUD
   - 前端：列表页、新增/编辑页
2. **评审模板配置**（evaluation-template-list.html, evaluation-template-edit.html）
   - 后端：评审模板 CRUD，评分标准配置
   - 前端：列表页、模板编辑器（评分项配置）
3. **流程配置**（workflow-config.html）
   - 后端：审批流程配置
   - 前端：流程可视化配置界面

**技术要点**：
- 项目类型与评审模板、流程的关联关系
- 流程配置的数据结构设计（节点、条件、规则）

---

### 阶段二：核心申报与审核流程（P0）

**开发模块**：M101 项目申报管理 + M103 审核流程管理

**开发原因**：核心业务流程，最高优先级

**开发顺序**：
1. **M101 项目申报管理**
   - 后端：
     - 申请 CRUD（草稿保存、提交、撤回）
     - 状态流转管理（10个状态）
     - 附件上传
   - 前端：
     - 我的申请列表（application-list.html）
     - 创建申请表单（application-create.html）
     - 申请详情（application-detail.html）

2. **M103 审核流程管理**
   - 后端：
     - 审核任务查询（待审核列表）
     - 审核操作（通过、驳回、要求补充资料、暂停审核）
     - 审核记录和日志
   - 前端：
     - 待审核列表（review-list.html）
     - 审核详情和操作（review-detail.html）

**技术要点**：
- 申请状态流转逻辑（10个状态）
- 审核权限控制
- 审核历史记录
- 补充资料的交互流程

---

### 阶段三：专家评审流程（P1）

**开发模块**：M104 专家分配管理 + M105 评审评分管理

**开发原因**：紧接审核流程，是核心评审环节

**开发顺序**：
1. **M104 专家分配管理**
   - 后端：
     - 专家库管理（可能复用系统用户）
     - 专家分配规则（手动分配、自动分配）
     - 专家回避机制
   - 前端：
     - 专家分配界面（expert-assign.html）

2. **M105 评审评分管理**
   - 后端：
     - 评审任务查询
     - 评分提交（关联评审模板）
     - 评分汇总计算
   - 前端：
     - 待评审列表（evaluation-list.html）
     - 评审评分表单（evaluation-form.html）

**技术要点**：
- 评审模板与评分项动态加载
- 多专家评分的汇总算法
- 专家评审权限控制

---

### 阶段四：项目立项管理（P1）

**开发模块**：M106 项目立项管理

**开发原因**：评审完成后的立项决策

**开发顺序**：
1. **立项项目列表**
   - 后端：
     - 立项项目查询（已立项、进行中、已完成、已暂停等）
     - 项目状态管理
   - 前端：
     - 立项项目列表（project-list.html）
     - 项目详情（project-detail.html）

**技术要点**：
- 评审结果到立项的转换逻辑
- 立项后的项目状态管理

---

### 阶段五：项目进度管理（P2）

**开发模块**：M107 项目进度管理

**开发原因**：立项后的项目执行跟踪

**开发顺序**：
1. **项目进度更新**
   - 后端：
     - 进度记录 CRUD
     - 里程碑管理
     - 进度历史查询
   - 前端：
     - 项目进度列表（progress-list.html）
     - 更新进度（progress-update.html）

**技术要点**：
- 进度百分比计算
- 里程碑跟踪
- 进度变更历史

---

### 阶段六：统计报表（P1）

**开发模块**：M108 统计报表

**开发原因**：业务数据分析和决策支持

**开发顺序**：
1. **统计报表**
   - 后端：
     - 项目状态分布统计
     - 部门项目统计
     - 月度申报趋势
     - 预算执行情况
     - 专家评审统计
   - 前端：
     - 统计报表页（statistics.html）
     - 图表展示（ECharts）

**技术要点**：
- 数据聚合查询优化
- 报表导出（Excel）
- 图表可视化

---

## 四、缺失模块分析

### 已覆盖模块
根据原型图，核心业务模块已全部覆盖，无缺失模块。

### 框架已提供模块
以下模块由 ContiNew Admin 框架提供，无需开发：
- M001~M010：用户管理、角色管理、菜单管理、部门管理、字典管理等
- 个人中心、消息中心
- 登录认证、权限控制
- 日志审计、在线用户等监控功能

### 可选增强功能（后续迭代）
1. **消息通知模块**
   - 审核通知、评审通知、进度提醒
   - 支持站内信、邮件、短信

2. **文档管理模块**
   - 项目文档版本管理
   - 文档在线预览

3. **数据导入导出**
   - 批量导入项目申请
   - 导出各类报表

4. **移动端支持**
   - 移动端审批
   - 移动端查看进度

---

## 五、技术架构要点

### 后端架构
- **框架**：ContiNew Admin（Spring Boot 3.3.12）
- **分层**：Controller → Service → Mapper
- **关键实体**：
  - 项目申请（Application）
  - 审核记录（Review）
  - 专家评审（Evaluation）
  - 项目信息（Project）
  - 项目进度（Progress）
  - 配置表（ProjectType、EvaluationTemplate、Workflow）

### 前端架构
- **框架**：Vue 3.5.4 + Arco Design 2.57.0
- **关键模块**：
  - 表单组件（申请表单、评审表单）
  - 状态流转组件
  - 统计图表组件（ECharts）

### 数据库设计要点
- **状态流转表**：记录申请状态变更历史
- **审核记录表**：记录每次审核操作
- **评分记录表**：记录专家评分详情
- **配置表**：项目类型、评审模板、流程配置

---

## 六、开发里程碑

| 阶段 | 模块 | 预计工作量 | 关键交付物 |
|-----|------|----------|----------|
| 阶段一 | M109 系统配置管理 | 中等 | 项目类型、评审模板、流程配置功能 |
| 阶段二 | M101 + M103 | 较大 | 申报、审核完整流程 |
| 阶段三 | M104 + M105 | 较大 | 专家分配、评审评分功能 |
| 阶段四 | M106 | 中等 | 立项管理功能 |
| 阶段五 | M107 | 中等 | 进度管理功能 |
| 阶段六 | M108 | 中等 | 统计报表功能 |

---

## 七、开发注意事项

1. **严格遵守 CLAUDE.md 规范**
   - Service 必须是接口，ServiceImpl 才是实现类
   - 工具方法独立成 XxxUtils 类
   - 使用 Lombok 减少样板代码
   - 中文注释、中文提交信息

2. **状态流转设计**
   - 10个状态的严格流转控制
   - 状态变更记录和日志
   - 权限控制

3. **权限控制**
   - 不同角色访问不同模块
   - 数据权限（只能看自己的申请/审核任务）

4. **测试要求**
   - 单元测试覆盖率 ≥ 80%
   - 核心流程的集成测试

5. **数据库变更**
   - 使用 Liquibase 管理数据库脚本
   - 不修改已执行的 changeset

---

## 八、下一步行动

1. ✅ 完成原型图评审（已完成）
2. ⏭️ 启动阶段一：M109 系统配置管理详细设计
3. ⏭️ 数据库表设计（E-R 图）
4. ⏭️ API 接口设计（RESTful 规范）
5. ⏭️ 前端路由和菜单设计

---

*本规划基于原型图 V2.0 版本，后续可根据实际开发情况调整*
